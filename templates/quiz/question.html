{% extends "base.html" %}

{% block title %}–í–æ–ø—Ä–æ—Å {{ question_num }} –∏–∑ {{ total_questions }}{% endblock %}

{% block content %}
<div class="question-container">
    <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä -->
    <div class="progress-container">
        <div class="progress-bar" style="width: {{ progress }}%"></div>
    </div>
    
    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ -->
    <div style="text-align: center; margin-bottom: 30px;">
        <span class="question-number">–í–æ–ø—Ä–æ—Å {{ question_num }} –∏–∑ {{ total_questions }}</span>
        <div style="margin-top: 10px; color: #718096;">
            –ü—Ä–æ–≥—Ä–µ—Å—Å: {{ progress|floatformat:0 }}%
        </div>
    </div>
    
    <!-- –í–æ–ø—Ä–æ—Å -->
    <div class="question-text">
        {{ question.text }}
    </div>
    
    <!-- –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ -->
    <form method="post" action="{% url 'submit_answer' student_test.id question_num %}">
        {% csrf_token %}
        
        <div style="margin-bottom: 30px;">
            {% for answer in answers %}
            <label class="answer-option" for="answer_{{ answer.id }}">
                <input 
                    type="radio" 
                    id="answer_{{ answer.id }}" 
                    name="answer_id" 
                    value="{{ answer.id }}" 
                    required
                    style="margin-right: 15px;"
                >
                <div class="answer-letter">{{ answer.letter }}</div>
                <div class="answer-text">{{ answer.text }}</div>
            </label>
            {% endfor %}
        </div>
        
        <!-- –ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <a href="{% url 'home' %}" class="btn btn-secondary" onclick="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –ø–æ–∫–∏–Ω—É—Ç—å —Ç–µ—Å—Ç? –í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç —É—Ç–µ—Ä—è–Ω.')">
                üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é
            </a>
            
            <div style="display: flex; gap: 15px;">
                {% if question_num > 1 %}
                    <a href="{% url 'quiz_question' student_test.id question_num|add:'-1' %}" class="btn btn-secondary">
                        ‚Üê –ù–∞–∑–∞–¥
                    </a>
                {% endif %}
                
                <button type="submit" class="btn">
                    {% if question_num == total_questions %}
                        üéØ –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç
                    {% else %}
                        –î–∞–ª–µ–µ ‚Üí
                    {% endif %}
                </button>
            </div>
        </div>
    </form>
</div>

<!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—á–µ–Ω–∏–∫–µ -->
<div style="background: rgba(255, 255, 255, 0.9); border-radius: 10px; padding: 15px; margin-top: 20px; text-align: center;">
    <strong style="color: #4a5568;">üë§ {{ student_test.student_name }}</strong>
    <span style="color: #718096; margin: 0 10px;">|</span>
    <strong style="color: #4a5568;">üéì {{ student_test.student_class }} –∫–ª–∞—Å—Å</strong>
    <span style="color: #718096; margin: 0 10px;">|</span>
    <strong style="color: #4a5568;">üìö {{ student_test.test.title }}</strong>
</div>

<!-- –ü–æ–¥—Å–∫–∞–∑–∫–∞ -->
<div style="background: rgba(102, 126, 234, 0.1); border: 1px solid rgba(102, 126, 234, 0.3); border-radius: 10px; padding: 15px; margin-top: 15px; text-align: center;">
    <p style="color: #667eea; margin: 0; font-size: 14px;">
        üí° –í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –≤–∞—Ä–∏–∞–Ω—Ç –æ—Ç–≤–µ—Ç–∞ –∏ –Ω–∞–∂–º–∏—Ç–µ "–î–∞–ª–µ–µ" –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è
    </p>
</div>
{% endblock %}
